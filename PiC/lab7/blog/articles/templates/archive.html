{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Архив статей</title>
    <link rel="stylesheet" href="{% static 'article.css' %}">
</head>
<body>
    <div class="header">
        <img src="{% static 'golem.png' %}" alt="Темная ночь" />
    </div>

    {% if user.is_authenticated %}
        <a class="logout-btn" href="{% url 'logout' %}">Выйти</a>
    {% else %}
        <a class="register-btn" href="{% url 'register' %}">Зарегистрироваться</a>
        <a class="login-btn" href="{% url 'login' %}">Войти</a>
    {% endif %}

    <div class="archive">
        {% for post in posts %}
        <div class="one-post">
            <h2 class="post-title">
                <a class="post-title" href="/article/{{ post.id }}">{{ post.title }}</a>
            </h2>
            <button class="fold-button">Свернуть</button>
            <div class="article-info">
                <div class="article-author">{{ post.author.username }}</div>
                <div class="article-created-date">{{ post.created_date }}</div>
            </div>
            <p class="article-text">{{ post.get_excerpt }}</p>
        </div>
        {% empty %}
        <p>Статей пока нет.</p>
        {% endfor %}
    </div>

    <!-- Новое: интерфейс фильтрации студентов по средней оценке -->
    <div class="students-filter" style="margin:40px 0 16px;">
        <input type="number" id="minAverage" placeholder="Минимальный средний балл" step="0.01" />
        <button onclick="showFilteredStudents()">Показать студентов с баллом выше</button>
    </div>
    <div class="students-result"></div>

    <script src="{% static 'js/helloworld.js' %}"></script>
    <script src="{% static 'js/fold-post.js' %}"></script>
</body>
</html>
